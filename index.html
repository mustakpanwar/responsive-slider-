<style>
    .carousel-container {
        width: 100%;
        max-width: 100%;
        margin: 0 auto;
        padding: 20px;
        position: relative;
        overflow: hidden;
    }

    .carousel-wrapper {
        position: relative;
    }

    .carousel {
        display: flex;
        transition: transform 0.5s ease;
        width: 100%;
        cursor: grab;
    }

    .carousel.grabbing {
        cursor: grabbing;
    }

    .carousel-slide {
        flex: 0 0 33.333%;
        padding: 0 10px;
        position: relative;
        transition: all 0.3s ease;
        user-select: none;
    }

    .slide-inner {
        position: relative;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        height: 350px;
    }

    .slide-bg {
        width: 100%;
        height: 100% !important;
        object-fit: cover;
        position: absolute;
        top: 0;
        left: 0;
    }

    .slide-content {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 20px;
        background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
        color: white;
    }

    .slide-content h3 {
        font-size: 1.5rem;
        margin-bottom: 10px;
    }

    .read-more-btn {
        display: inline-block;
        padding: 8px 20px;
        background-color: #1a2b48;
        color: white;
        text-decoration: none;
        border-radius: 20px;
        font-weight: bold;
        transition: all 0.3s ease;
        border: 2px solid #1a2b48;
        font-size: 0.9rem;
    }

    .read-more-btn:hover {
        background-color: transparent;
        color: #1a2b48;
    }

    /* Navigation */
    .carousel-nav {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
        gap: 20px;
    }

    .carousel-dots {
        display: flex;
        gap: 10px;
    }

    .carousel-dots button {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        border: none;
        background: #ccc;
        cursor: pointer;
        padding: 0;
    }

    .carousel-dots button.active {
        background: #1a2b48;
    }

    .carousel-arrow {
        background: #1a2b48;
        color: white;
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 1.2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
    }

    .carousel-arrow:hover {
        background: #e64a19;
    }

    /* Responsive adjustments */
    @media (max-width: 992px) {
        .carousel-slide {
            flex: 0 0 50%;
        }
    }

    @media (max-width: 576px) {
        .carousel-slide {
            flex: 0 0 100%;
        }
        
        .slide-content h3 {
            font-size: 1.2rem;
        }
        
        .read-more-btn {
            padding: 6px 15px;
            font-size: 0.8rem;
        }
    }
</style>

<div class="carousel-container">
    <div class="carousel-wrapper">
        <div class="carousel" id="carousel">
            <!-- Slide 1 -->
            <div class="carousel-slide">
                <div class="slide-inner">
                    <img class="slide-bg" src="https://stoppover.com/wp-content/uploads/2025/06/ked202302220002.700x.0.jpg" alt="Dubai">
                    <div class="slide-content">
                        <h3 style="color: #ffffff !important;">Dubai</h3>
                        <a href="https://stoppover.com/dubai/" class="read-more-btn">Read More</a>
                    </div>
                </div>
            </div>
            
            <!-- Slide 2 -->
            <div class="carousel-slide">
                <div class="slide-inner">
                    <img class="slide-bg" src="https://stoppover.com/wp-content/uploads/2025/06/46.png" alt="Turkey">
                    <div class="slide-content">
                        <h3 style="color: #ffffff !important;">Turkey</h3>
                        <a href="https://stoppover.com/turkey/" class="read-more-btn">Read More</a>
                    </div>
                </div>
            </div>
            
            <!-- Slide 3 -->
            <div class="carousel-slide">
                <div class="slide-inner">
                    <img class="slide-bg" src="https://stoppover.com/wp-content/uploads/2025/06/49.png" alt="Egypt">
                    <div class="slide-content">
                        <h3 style="color: #ffffff !important;">Egypt</h3>
                        <a href="https://stoppover.com/egypt/" class="read-more-btn">Read More</a>
                    </div>
                </div>
            </div>
            
            <!-- Slide 4 -->
            <div class="carousel-slide">
                <div class="slide-inner">
                    <img class="slide-bg" src="https://stoppover.com/wp-content/uploads/2025/06/disneyland-paris.jpg" alt="Paris">
                    <div class="slide-content">
                        <h3 style="color: #ffffff !important;">Paris</h3>
                        <a href="https://stoppover.com/paris/" class="read-more-btn">Read More</a>
                    </div>
                </div>
            </div>
            
            <!-- Slide 5 -->
            <div class="carousel-slide">
                <div class="slide-inner">
                    <img class="slide-bg" src="https://stoppover.com/wp-content/uploads/2025/06/3b003e84-cf42-402a-9260-fe90ef035c3e.webp" alt="Bali">
                    <div class="slide-content">
                        <h3 style="color: #ffffff !important;">Bali</h3>
                        <a href="https://stoppover.com/bali/" class="read-more-btn">Read More</a>
                    </div>
                </div>
            </div>
            
            <!-- Slide 6 -->
            <div class="carousel-slide">
                <div class="slide-inner">
                    <img class="slide-bg" src="https://stoppover.com/wp-content/uploads/2018/12/umrah-mecca_afp_.jpg.jpg" alt="Saudi">
                    <div class="slide-content">
                        <h3 style="color: #ffffff !important;">Saudi</h3>
                        <a href="https://stoppover.com/saudi/" class="read-more-btn">Read More</a>
                    </div>
                </div>
            </div>
            
            <!-- Clone first 2 slides for infinite effect -->
            <div class="carousel-slide">
                <div class="slide-inner">
                    <img class="slide-bg" src="https://stoppover.com/wp-content/uploads/2025/06/ked202302220002.700x.0.jpg" alt="Dubai">
                    <div class="slide-content">
                        <h3 style="color: #ffffff !important;">Dubai</h3>
                        <a href="https://stoppover.com/dubai/" class="read-more-btn">Read More</a>
                    </div>
                </div>
            </div>
            <div class="carousel-slide">
                <div class="slide-inner">
                    <img class="slide-bg" src="https://stoppover.com/wp-content/uploads/2025/06/46.png" alt="Turkey">
                    <div class="slide-content">
                        <h3 style="color: #ffffff !important;">Turkey</h3>
                        <a href="https://stoppover.com/turkey/" class="read-more-btn">Read More</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="carousel-nav">
        <button class="carousel-arrow" id="prevBtn">←</button>
        <div class="carousel-dots" id="carouselDots"></div>
        <button class="carousel-arrow" id="nextBtn">→</button>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const carousel = document.getElementById('carousel');
        const carouselDots = document.getElementById('carouselDots');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const slides = document.querySelectorAll('.carousel-slide');
        const originalSlides = 6; // Original slides (not counting clones)
        const totalSlides = slides.length;
        
        let currentIndex = 0;
        let slideInterval;
        let slidesToShow = 3; // Default for desktop
        let isDragging = false;
        let startPos = 0;
        let currentTranslate = 0;
        let prevTranslate = 0;
        let animationID;
        
        // Create dots (only for original slides)
        for (let i = 0; i < originalSlides; i++) {
            const dot = document.createElement('button');
            dot.addEventListener('click', () => goToSlide(i));
            carouselDots.appendChild(dot);
        }
        
        // Update slides to show based on screen size
        function updateSlidesToShow() {
            if (window.innerWidth < 576) {
                slidesToShow = 1;
            } else if (window.innerWidth < 992) {
                slidesToShow = 2;
            } else {
                slidesToShow = 3;
            }
            return slidesToShow;
        }
        
        // Update carousel position
        function updateCarousel() {
            const slideWidth = 100 / updateSlidesToShow();
            let effectiveIndex = currentIndex;
            
            // If we're at the cloned slides, jump to original slides without animation
            if (currentIndex >= originalSlides) {
                carousel.style.transition = 'none';
                effectiveIndex = currentIndex % originalSlides;
            } else {
                carousel.style.transition = 'transform 0.5s ease';
            }
            
            carousel.style.transform = `translateX(-${effectiveIndex * slideWidth}%)`;
            updateDots();
            
            // If we jumped to original slides, set up for next transition
            if (currentIndex >= originalSlides) {
                setTimeout(() => {
                    currentIndex = currentIndex % originalSlides;
                    carousel.style.transition = 'transform 0.5s ease';
                    updateCarousel();
                }, 10);
            }
        }
        
        // Update dots
        function updateDots() {
            const dots = document.querySelectorAll('.carousel-dots button');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === (currentIndex % originalSlides));
            });
        }
        
        // Go to specific slide with infinite loop logic
        function goToSlide(index) {
            // For slides 5 and 6 (index 4 and 5), we need special handling
            if (index >= originalSlides - slidesToShow + 1) {
                // For slide 5 (index 4): show 5,6,1
                // For slide 6 (index 5): show 6,1,2
                currentIndex = index;
            } else {
                currentIndex = index;
            }
            updateCarousel();
            resetInterval();
        }
        
        // Next slide with infinite loop
        function nextSlide() {
            currentIndex++;
            if (currentIndex > originalSlides) {
                currentIndex = 1; // Jump to slide 2 (index 1) for seamless transition
                carousel.style.transition = 'none';
                carousel.style.transform = `translateX(-${currentIndex * (100 / slidesToShow)}%)`;
                
                setTimeout(() => {
                    currentIndex = 1;
                    carousel.style.transition = 'transform 0.5s ease';
                    updateCarousel();
                }, 10);
            } else {
                updateCarousel();
            }
        }
        
        // Previous slide with infinite loop
        function prevSlide() {
            currentIndex--;
            if (currentIndex < 0) {
                currentIndex = originalSlides - 1; // Jump to last slide
                carousel.style.transition = 'none';
                carousel.style.transform = `translateX(-${currentIndex * (100 / slidesToShow)}%)`;
                
                setTimeout(() => {
                    currentIndex = originalSlides - 1;
                    carousel.style.transition = 'transform 0.5s ease';
                    updateCarousel();
                }, 10);
            } else {
                updateCarousel();
            }
        }
        
        // Reset auto-slide interval
        function resetInterval() {
            clearInterval(slideInterval);
            slideInterval = setInterval(nextSlide, 5000);
        }
        
        // Touch and mouse events for dragging
        function startDrag(e) {
            if (window.innerWidth >= 992 && slidesToShow === 3) return;
            
            isDragging = true;
            carousel.classList.add('grabbing');
            startPos = getPositionX(e);
            prevTranslate = currentTranslate;
            
            clearInterval(slideInterval);
            cancelAnimationFrame(animationID);
        }
        
        function drag(e) {
            if (!isDragging) return;
            
            const currentPosition = getPositionX(e);
            const diff = currentPosition - startPos;
            const slideWidth = carousel.offsetWidth / updateSlidesToShow();
            
            if (originalSlides <= slidesToShow) return;
            
            currentTranslate = prevTranslate + (diff / slideWidth) * 100;
            const maxTranslate = (originalSlides - slidesToShow) * 100;
            currentTranslate = Math.max(Math.min(currentTranslate, maxTranslate), 0);
            
            carousel.style.transform = `translateX(-${currentIndex * 100}%) translateX(${currentTranslate}%)`;
        }
        
        function endDrag() {
            if (!isDragging) return;
            
            isDragging = false;
            carousel.classList.remove('grabbing');
            
            const movedBy = currentTranslate - prevTranslate;
            
            if (movedBy < -10 && currentIndex < originalSlides - slidesToShow) {
                nextSlide();
            } else if (movedBy > 10 && currentIndex > 0) {
                prevSlide();
            }
            
            currentTranslate = 0;
            carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
            resetInterval();
        }
        
        function getPositionX(e) {
            return e.type.includes('mouse') ? e.pageX : e.touches[0].clientX;
        }
        
        // Event listeners
        carousel.addEventListener('mousedown', startDrag);
        carousel.addEventListener('touchstart', startDrag, { passive: true });
        
        carousel.addEventListener('mousemove', drag);
        carousel.addEventListener('touchmove', drag, { passive: false });
        
        carousel.addEventListener('mouseup', endDrag);
        carousel.addEventListener('mouseleave', endDrag);
        carousel.addEventListener('touchend', endDrag);
        
        prevBtn.addEventListener('click', () => {
            prevSlide();
            resetInterval();
        });
        
        nextBtn.addEventListener('click', () => {
            nextSlide();
            resetInterval();
        });
        
        window.addEventListener('resize', () => {
            updateSlidesToShow();
            updateCarousel();
        });
        
        // Initialize
        updateSlidesToShow();
        updateCarousel();
        resetInterval();
    });
</script>